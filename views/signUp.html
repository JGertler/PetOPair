<!DOCTYPE html>
<html>
<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="/css/style.css">
  <link type="text/css" rel="stylesheet" href="/css/materialize.min.css"  media="screen,projection"/>
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="/js/materialize.js"></script>
  <script type="text/javascript" srcaboutme="/js/app.js"></script>
</head>


<!-- navbar -->

<ul id="slide-out" class="side-nav" style="transform: translateX(0px);">
  <li><div class="user-view">
    <div class="background">
      <img src="">
    </div>
    <a href="#!user"><img class="circle" src=""></a>
    <a href="#!name"><span class="green-text name">Susie Smith</span></a>
    <a href="#!email"><span class="green-text email">meowcatmeow@gmail.com</span></a>
  </div></li>
  <li><a href="#!"><i class="material-icons">account_circle</i>My Pet Profile</a></li>
  <li><div class="divider"></div></li>
  <li><a class="subheader">Activity</a></li>
  <li><a href="#!">Notifications</a></li>
  <li><a class="waves-effect" href="#!">My Neighborhood Bulletin</a></li>
  <li><a class="waves-effect" href="#!">My Cups of Sugar</a></li>
</ul>

<!-- end navbar -->

<body>
<nav class="lighten-1" role="navigation">
  <div class="nav-wrapper">
    <a id="logo-container" href="/" class="brand-logo">Pet OPair</a>
      <!-- Dropdown Structure -->
      <ul id="dropdown1" class="dropdown-content">
        <li><a href="#!">Contact</a></li>
        <li class="divider"></li>
        <li><a href="#!">Disclaimer</a></li>
      </ul>
      
        <ul class="right hide-on-med-and-down">
          <li><a href="badges.html">About</a></li>
          <!-- Dropdown Trigger -->
          <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Menu<i class="material-icons right">arrow_drop_down</i></a></li>
          <li>
            <!-- modal goes here -->
            <a class="waves-effect waves-light btn modal-trigger" href="#modal"> Login </a>
            <!-- Modal Structure -->
          <!--   <div id="modal" class="modal open bottom-sheet">
              <div class="modal-content">
                <h4>Modal Header</h4>
                <p>A bunch of text</p>
              </div>
              <div class="modal-footer green">
                <a href="#!" class="modal-action modal-close waves-effect btn-flat">Close</a>
              </div>
            </div> -->
            <!-- modal ends here -->
          </li>
        </ul>
    </div>
</nav>

  <!-- end nav -->
<!-- 
  <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a> -->

  <div class="section no-pad-bot" id="index-banner">

    <h1 class="header center"><img class="mainLogo" src="/media/Petopair.png"></h1> 
  </div>


  <div class="container">
    <div class="section">

      <!-- Start Form -->

      <form class="col s12" id="addressPopulate" style='color: #1820ac !important'>
        <div class="row">
          <div class="input-field col s6">
            <input id="first_name" type="text" class="validate">
            <label for="first_name">First Name</label>
          </div>
          <div class="input-field col s6">
            <input id="last_name" type="text" class="validate">
            <label for="last_name">Last Name</label>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s12">
            <input id="password" type="password" class="validate">
            <label for="password">Password</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="email" type="email" class="validate">
            <label for="email">Email</label>
          </div>
        </div>
      <!-- Google Autopopulate html -->
        <div class="row" id="address">
          <div class="col s12" id="locationField">
            <input id="autocomplete" placeholder="Enter Your Address Here"
            onFocus="geolocate()" type="text"></input>
          </div>
        </div>
        <div class="row">
          <div class="col s12">   
            <p class="label">Street address</p>
            <p class="slimField"><input class="field" id="street_number"
              disabled="true"></input></p>
            <p class="wideField" colspan="2"><input class="field" id="route"
              disabled="true"></input></p>
          </div>
        </div>
        <div class="row">
          <div class="col s12"> 
            <p class="label">City</p>
            <p class="wideField" colspan="3"><input class="field" id="locality"
                disabled="true"></input></p>
          </div>
        </div>
        <div class="row">
          <div class="col s12"> 
            <p class="label">State</p>
            <p class="slimField"><input class="field"
              id="administrative_area_level_1" disabled="true"></input></p>
          </div>
        </div>
        <div class="row">  
          <div class="col s12">
            <p class="label">Zip code</p>
            <p class="wideField"><input class="field" id="postal_code"
                disabled="true"></input></p>
          </div>
        </div>
        <div class="row">
          <div class="col s12"> 
            <p class="label">Country</p>
            <p class="wideField" colspan="3"><input class="field"
              id="country" disabled="true"></input></p>
          </div>
        </div>

        <button class="btn waves-effect waves-light" id = "grabdata" type="submit" name="action">Submit
<!--         <a href="/aboutMe"></a>
 -->           <i class="material-icons right">send</i>
        </button>
  </form>

                    <!-- end divs for container and section -->
                  </div>
                </div>


                <br><br>


                <footer class="page-footer">
                  <div class="container">
                    <div class="row">
                      <div class="col l6 s12">
                        <h5 class="white-text">About Us</h5>
                        <p class="grey-text text-lighten-4">Pet OPair is made up of four determined coding bootcamp students: Jessica Gertler, Mayat Smolnik, Julie Braun, and Amber Orenstein</p>
                      </div>
                      <div class="col l3 s12">
                        <h5 class="white-text">Adopt!</h5>
                        <ul>
                          <li><a class="white-text" href="http://www.rmfr-colorado.org">RMFR</a></li>
                          <li><a class="white-text" href="http://www.ddfl.org">Dumb Friends League</a></li>
                          <li><a class="white-text" href="https://maxfund.org">MaxFund</a></li>
                        </ul>
                      </div>
                      <div class="col l3 s12">
                        <h5 class="white-text">Contact</h5>
                        <ul>
                          <li><a class="white-text" href="#!">Email</a></li>
                          <li><a class="white-text" href="#!">Phone</a></li>
                          <li><a class="white-text" href="#!">Leasing Office</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="footer-copyright">
                    <div class="container">
                      Founded in <a class="orange-text text-lighten-3" href="https://github.com/JGertler">Denver, CO</a>
                    </div>
                  </div>
                </footer>

              </body>
              </html>

              <!-- autopopulated address, powered by google -->
              <script>
        // This example displays an address form, using the autocomplete feature
        // of the Google Places API to help users fill in the information.
        // This example requires the Places library. Include the libraries=places
        // parameter when you first load the API. For example:
        // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
        var placeSearch, autocomplete;
        var componentForm = {
          street_number: 'short_name',
          route: 'long_name',
          locality: 'long_name',
          administrative_area_level_1: 'short_name',
          country: 'long_name',
          postal_code: 'short_name'
        };
        function initAutocomplete() {
          // Create the autocomplete object, restricting the search to geographical
          // location types.
          autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
            {types: ['geocode']});
          // When the user selects an address from the dropdown, populate the address
          // fields in the form.
          autocomplete.addListener('place_changed', fillInAddress);
        }
        function fillInAddress() {
          // Get the place details from the autocomplete object.
          var place = autocomplete.getPlace();
          for (var component in componentForm) {
            document.getElementById(component).value = '';
            document.getElementById(component).disabled = false;
          }
          // Get each component of the address from the place details
          // and fill the corresponding field on the form.
          for (var i = 0; i < place.address_components.length; i++) {
            var addressType = place.address_components[i].types[0];
            if (componentForm[addressType]) {
              var val = place.address_components[i][componentForm[addressType]];
              document.getElementById(addressType).value = val;
            }
          }
        }
        // Bias the autocomplete object to the user's geographical location,
        // as supplied by the browser's 'navigator.geolocation' object.
        function geolocate() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              var geolocation = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
              };
              var circle = new google.maps.Circle({
                center: geolocation,
                radius: position.coords.accuracy
              });
              autocomplete.setBounds(circle.getBounds());
            });
          }
        }
//function which grab the user's input data from the sign up form and puts it into an object to route to the table
        function grabData(event) {
          event.preventDefault();

          var first_name = $("#first_name").val().trim(),
              last_name = $("#last_name").val().trim(),
              password = $("#password").val().trim(),
              email = $("#email").val().trim(),
              autocomplete = $("#autocomplete").val().trim(),
              street_number= $("#street_number").val().trim(),
              route = $("#route").val().trim(),
              locality = $("#locality").val().trim(),
              administrative_area_level_1 = $("#administrative_area_level_1").val().trim(),
              postal_code = $("#postal_code").val().trim(),
              country = $("#country").val().trim();

          var info = {
                first_name: first_name,
                last_name: last_name,
                password: password,
                email: email,
                autocomplete: autocomplete,
                street_number: street_number,
                route:route,
                locality: locality,
                administrative_area_level_1: administrative_area_level_1,
                postal_code: postal_code,
                country: country
          }
          $.post("/humaninfo", info, function(data) {          console.log(data);

          })

                  }

        $("#grabdata").on("click", grabData);

        //ends grabData function

      </script>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0Zeq_ONgdAnTqmMn9n4sD94vTut2WIeY&libraries=places&callback=initAutocomplete"
      async defer></script>